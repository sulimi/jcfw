const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index-C7i8OhHl.js","assets/js/element-plus-DzEfNFEh.js","assets/js/@vue-DMj6kJP1.js","assets/js/lodash-es-Dfcc72EO.js","assets/js/@vueuse-D6tFO15K.js","assets/js/@element-plus-UY_HfQnI.js","assets/js/async-validator-BTKOuuO-.js","assets/js/@ctrl-D2oWfImC.js","assets/js/@popperjs-CpAfbxx4.js","assets/js/normalize-wheel-es-Vn5vHDCm.js","assets/css/element-plus-BhGJOWVx.css","assets/js/echarts-DLS1qI9h.js","assets/js/tslib-ZseNXxlj.js","assets/js/zrender-COFpJYBb.js","assets/js/vue-router-BQuPhA_r.js","assets/js/pinia-DgxDnLzq.js","assets/js/axios-DMXdiZgf.js","assets/css/index-DNKCIMR8.css","assets/js/index-DOfWcPTM.js","assets/css/index-RTb_IQD0.css","assets/js/index-CfYiEj7n.js","assets/js/index-HRThmoSa.js","assets/css/index-Dgmrsu2m.css","assets/js/index-De46EGkN.js","assets/css/index-Csz6xClM.css","assets/js/index-CD4mGc74.js","assets/css/index-DI65WzL-.css","assets/js/index-B2nChMGW.js","assets/js/mockjs-DGMRoWol.js","assets/js/dayjs-CXUWDbkB.js"])))=>i.map(i=>d[i]);
import{u as e,a,c as t,b as s}from"./vue-router-BQuPhA_r.js";import{E as n,a as o,b as r,c as l,d as i,e as c,f as u,g as d,h as m,i as p,j as v,k as f,l as _,m as h,n as g,o as y}from"./element-plus-DzEfNFEh.js";import{t as b,u as k,x as j,y as I,z as T,A as E,B as A,C as L,D as w}from"./@element-plus-UY_HfQnI.js";import{d as P,k as x,o as O,c as C,L as M,J as U,G as R,ab as V,I as S,a2 as z,O as D,r as q,a as B,u as N,H as $,K as H,F,m as J,z as K,au as G,w as W,ad as Q,an as X}from"./@vue-DMj6kJP1.js";import{d as Y,s as Z,c as ee}from"./pinia-DgxDnLzq.js";import{a as ae}from"./axios-DMXdiZgf.js";import"./lodash-es-Dfcc72EO.js";import"./@vueuse-D6tFO15K.js";import"./async-validator-BTKOuuO-.js";import"./@ctrl-D2oWfImC.js";import"./@popperjs-CpAfbxx4.js";import"./normalize-wheel-es-Vn5vHDCm.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const te={},se=function(e,a,t){let s=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(a.map((e=>{if((e=function(e){return"/jcfw/"+e}(e))in te)return;te[e]=!0;const a=e.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const n=document.createElement("link");return n.rel=a?"stylesheet":"modulepreload",a||(n.as="script"),n.crossOrigin="",n.href=e,t&&n.setAttribute("nonce",t),document.head.appendChild(n),a?new Promise(((a,t)=>{n.addEventListener("load",a),n.addEventListener("error",(()=>t(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return s.then((a=>{for(const e of a||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))},ne=[{path:"statistics",name:"statistics",component:()=>se((()=>import("./index-C7i8OhHl.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),meta:{title:"数据统计",icon:"PieChart",default:!0}},{path:"overdue-personnel",name:"overdue-personnel",meta:{title:"逾期管理",icon:"Timer"},children:[{path:"list",name:"overdue-personnel-list",component:()=>se((()=>import("./index-DOfWcPTM.js")),__vite__mapDeps([18,1,2,3,4,5,6,7,8,9,10,14,15,16,19])),meta:{title:"逾期人员列表"}},{path:"detail/:id",name:"overdue-personnel-detail",component:()=>se((()=>import("./index-CfYiEj7n.js")),__vite__mapDeps([20,2,14,1,3,4,5,6,7,8,9,10,15,16])),meta:{title:"逾期详情",activePath:"/overdue-personnel/list",hidden:!0}}]},{path:"user",name:"user",meta:{title:"用户管理",icon:"User"},children:[{path:"list",name:"user-list",component:()=>se((()=>import("./index-HRThmoSa.js")),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,14,15,16,22])),meta:{title:"用户列表"}},{path:"role",name:"user-role",component:()=>se((()=>import("./index-De46EGkN.js")),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,10,14,15,16,24])),meta:{title:"用户权限"}}]}],oe={class:"breadcrumb-menu"},re=(e,a)=>{const t=e.__vccOpts||e;for(const[s,n]of a)t[s]=n;return t},le=re(P({__name:"BreadcrumbMenu",setup(a){const t=e(),s=x((()=>t.matched.slice(1).map((e=>({name:e.name,title:e.meta.title})))));return(e,a)=>{const t=o,r=n;return O(),C("div",oe,[M(r,{separator:"/"},{default:U((()=>[(O(!0),C(R,null,V(s.value,(e=>(O(),S(t,null,{default:U((()=>[z(D(e.title),1)])),_:2},1024)))),256))])),_:1})])}}}),[["__scopeId","data-v-e7e6961d"]]),ie=ae.create({baseURL:"/jcfw/api",timeout:5e3});ie.interceptors.request.use((e=>{const a=ce().getToken();return a&&(e.headers.Authorization=`Bearer ${a}`),e}),(e=>Promise.reject(e))),ie.interceptors.response.use((e=>{if((e.headers["content-type"]||"").includes("text/html"))return r({message:"服务器返回了错误的内容类型",type:"error"}),Promise.reject(new Error("服务器返回了HTML内容"));const{message:a,data:t,code:s}=e.data;return 200===s?t:Promise.reject(new Error(a||"请求失败"))}),(e=>{if(e.response)switch(e.response.status){case 401:r({message:"未授权，请重新登录",type:"error"});break;case 403:r({message:"拒绝访问",type:"error"});break;case 404:r({message:"请求错误，未找到该资源",type:"error"});break;case 500:r({message:"服务器错误",type:"error"});break;default:r({message:"网络错误，请检查您的网络连接",type:"error"})}else r({message:"网络错误，请检查您的网络连接",type:"error"});return Promise.reject(e)}));const ce=Y("user",(()=>{const e=q(!1),a=q(null);return{loadingOver:e,setLoadingOver:a=>{e.value=a},userInfo:a,getUserInfo:async()=>{const e=await ie.get("/user/info");return a.value={userId:e.userId,username:e.username},e},updateUserInfo:e=>{a.value=e},setUserInfo:e=>{a.value={userId:e.userId,username:e.username}},clearUserInfo:()=>{a.value=null},setToken:e=>{sessionStorage.setItem("token",e)},getToken:()=>sessionStorage.getItem("token"),clearToken:()=>{sessionStorage.removeItem("token")}}}));function ue(e){return ie.post("/login",e)}const de={class:"layout-header"},me={class:"header-operate"},pe={class:"header-operate-search"},ve={class:"icon header-operate-search-icon"},fe={class:"icon header-operate-search-menu-icon"},_e={class:"header-operate-bell"},he={class:"header-operate-tools"},ge={class:"user-avatar"},ye={class:"header-operate-logo"},be={class:"header-operate-type-box"},ke={class:"header-operate-type-text"},je=re(P({__name:"index",setup(e){const t=a(),s=ce(),n=q("Hello!"),o=q("退出"),f=q("货拉拉"),_=async()=>{o.value="退出中...";try{await ie.post("/logout"),n.value="Bye!",o.value="退出成功",s.clearUserInfo(),s.clearToken(),r({message:"退出成功",type:"success"}),t.push("/login")}catch(e){r({message:`退出失败, ${e}`,type:"error"})}},h=e=>{f.value=e};return(e,a)=>{const t=k,r=l,g=j,y=I,A=i,L=T,w=c,P=u,x=d,R=E,V=m,S=p,q=v;return O(),C("header",de,[M(le),B("ul",me,[B("li",pe,[B("div",ve,[M(r,null,{default:U((()=>[M(t)])),_:1})]),B("div",fe,[M(r,null,{default:U((()=>[M(g)])),_:1})])]),B("li",_e,[M(A,{value:2,class:"item"},{default:U((()=>[M(r,{size:"16"},{default:U((()=>[M(y)])),_:1})])),_:1})]),B("li",he,[M(r,{size:"17"},{default:U((()=>[M(L)])),_:1})]),B("li",ge,[M(x,{trigger:"click",placement:"bottom","popper-class":"user-avatar-popover"},{reference:U((()=>[M(w,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"})])),default:U((()=>{var e;return[B("p",null,D(n.value)+" "+D(null==(e=N(s).userInfo)?void 0:e.username),1),M(P,{type:"primary",onClick:_,class:"logout-btn"},{default:U((()=>[z(D(o.value),1)])),_:1})]})),_:1})]),B("li",ye,[M(q,{onCommand:h,"popper-class":"header-operate-type-dropdown"},{dropdown:U((()=>[M(S,null,{default:U((()=>[M(V,{icon:N(b),command:"货拉拉",class:$({"is-active":"货拉拉"===f.value})},{default:U((()=>a[0]||(a[0]=[z("货拉拉")]))),_:1},8,["icon","class"]),M(V,{icon:N(b),command:"Action 2",class:$({"is-active":"Action 2"===f.value})},{default:U((()=>a[1]||(a[1]=[z(" Action 2 ")]))),_:1},8,["icon","class"]),M(V,{icon:N(b),command:"Action 3",class:$({"is-active":"Action 3"===f.value})},{default:U((()=>a[2]||(a[2]=[z("Action 3")]))),_:1},8,["icon","class"]),M(V,{icon:N(b),command:"Action 4",class:$({"is-active":"Action 4"===f.value})},{default:U((()=>a[3]||(a[3]=[z("Action 4")]))),_:1},8,["icon","class"]),M(V,{icon:N(b),command:"Action 5",class:$({"is-active":"Action 5"===f.value})},{default:U((()=>a[4]||(a[4]=[z("Action 5")]))),_:1},8,["icon","class"])])),_:1})])),default:U((()=>[B("div",be,[M(r,{size:"22",class:"header-operate-type-icon"},{default:U((()=>[M(R)])),_:1}),B("span",ke,D(f.value),1)])])),_:1})])])])}}}),[["__scopeId","data-v-3025eb73"]]),Ie=Y("route",(()=>{const a=e(),t={title:a.meta.title,name:a.name},s=q(t.name),n=q([t]);return{activeTabName:s,tabsMenuList:n,addTabsMenu:e=>{n.value.some((a=>a.name===e.name))||n.value.push({title:e.title,name:e.name}),s.value=e.name},removeTabsMenu:e=>{if(1===n.value.length)return;const a=n.value;let t=s.value;return t===e&&a.forEach(((s,n)=>{if(s.name===e){const e=a[n+1]||a[n-1];t=e?e.name:a[0].name}})),s.value=t,n.value=a.filter((a=>a.name!==e)),s.value}}})),Te={class:"layout-menu"},Ee=re(P({__name:"Menu",setup(t){const s={PieChart:A,Timer:L,User:w},n=e(),o=a(),r=x((()=>{var e;return(null==(e=n.meta)?void 0:e.activePath)||n.name})),i=Ie(),{addTabsMenu:c}=i,u=x((()=>m(ne))),d=e=>{o.push({name:e.name}),c({title:e.meta.title,name:e.name})},m=e=>e?e.filter((e=>{var a;return!(null==(a=e.meta)?void 0:a.hidden)&&(v(e)&&(e.children=m(e.children)),!0)})):[],p=e=>s[e],v=e=>e.children&&e.children.length>0;return(e,a)=>{const t=l,s=_,n=h,o=f;return O(),C("div",Te,[a[0]||(a[0]=B("h3",{class:"layout-menu-title-logo"},null,-1)),M(o,{"default-active":r.value,class:"layout-menu-content","unique-opened":!0},{default:U((()=>[(O(!0),C(R,null,V(u.value,(e=>(O(),C(R,{key:e.meta.title},[v(e)?(O(),S(n,{key:0,index:e.name},{title:U((()=>{var a,s;return[(null==(a=e.meta)?void 0:a.icon)?(O(),S(t,{key:0},{default:U((()=>{var a;return[(O(),S(H(p(null==(a=e.meta)?void 0:a.icon))))]})),_:2},1024)):F("",!0),B("span",null,D(null==(s=e.meta)?void 0:s.title),1)]})),default:U((()=>[(O(!0),C(R,null,V(e.children,(e=>(O(),S(s,{key:e.meta.title,index:e.name,onClick:a=>d(e),class:"menu-item-children"},{default:U((()=>{var a;return[z(D(null==(a=e.meta)?void 0:a.title),1)]})),_:2},1032,["index","onClick"])))),128))])),_:2},1032,["index"])):(O(),S(s,{key:1,index:e.name,onClick:a=>d(e),class:"menu-item-single"},{title:U((()=>{var a;return[z(D(null==(a=e.meta)?void 0:a.title),1)]})),default:U((()=>{var a;return[(null==(a=e.meta)?void 0:a.icon)?(O(),S(t,{key:0},{default:U((()=>{var a;return[(O(),S(H(p(null==(a=e.meta)?void 0:a.icon))))]})),_:2},1024)):F("",!0)]})),_:2},1032,["index","onClick"]))],64)))),128))])),_:1},8,["default-active"])])}}}),[["__scopeId","data-v-9e7723b5"]]),Ae={class:"tabs-menu"},Le=re(P({__name:"TabsMenu",setup(e){const t=a(),s=Ie(),{tabsMenuList:n,activeTabName:o}=Z(s),{removeTabsMenu:r}=s,l=e=>{const a=r(e);t.push({name:a})},i=e=>{t.push({name:e.props.name})};return(e,a)=>{const t=y,s=g;return O(),C("div",Ae,[M(s,{modelValue:N(o),"onUpdate:modelValue":a[0]||(a[0]=e=>J(o)?o.value=e:null),type:"card",closable:"",onTabRemove:l,onTabClick:i,class:"tabs"},{default:U((()=>[(O(!0),C(R,null,V(N(n),(a=>(O(),S(t,{key:a.name,label:a.title,name:a.name},{default:U((()=>[K(e.$slots,"default",{},void 0,!0)])),_:2},1032,["label","name"])))),128))])),_:3},8,["modelValue"])])}}}),[["__scopeId","data-v-06dc944c"]]),we="/jcfw/assets/png/logo-CAijJnpF.png",Pe={class:"loading"},xe={key:0,src:we,alt:"logo",class:"loading-logo"},Oe=re(P({__name:"Loading",props:{haveLogo:{type:Boolean,default:!1}},setup:e=>(a,t)=>(O(),C("div",Pe,[e.haveLogo?(O(),C("img",xe)):F("",!0),t[0]||(t[0]=G('<div class="loading-icon" data-v-15d47c9f><span class="loading-icon-item" data-v-15d47c9f></span><span class="loading-icon-item" data-v-15d47c9f></span><span class="loading-icon-item" data-v-15d47c9f></span><span class="loading-icon-item" data-v-15d47c9f></span><span class="loading-icon-item" data-v-15d47c9f></span><span class="loading-icon-item" data-v-15d47c9f></span></div>',1))]))}),[["__scopeId","data-v-15d47c9f"]]),Ce={class:"layout"},Me={class:"content-container"},Ue={class:"layout-content"},Re={class:"layout-main"},Ve=[{path:"/login",name:"login",component:()=>se((()=>import("./index-CD4mGc74.js")),__vite__mapDeps([25,1,2,3,4,5,6,7,8,9,10,14,15,16,26])),meta:{title:"登录"}},{path:"/",name:"layout",component:re(P({__name:"Layout",setup(a){const t=q(!0),s=e(),n=q(void 0);return W(s,(()=>{t.value=!0})),W(t,(e=>{e?n.value=setTimeout((()=>{t.value=!1}),666):clearTimeout(n.value)}),{immediate:!0}),(e,a)=>{const s=Q("router-view");return O(),C("div",Ce,[M(Ee),B("div",Me,[B("div",Ue,[M(je),M(Le,null,{default:U((()=>[B("div",Re,[t.value?(O(),S(Oe,{key:0})):(O(),S(s,{key:1}))])])),_:1})])])])}}}),[["__scopeId","data-v-3254dff7"]]),redirect:"/statistics",children:ne,meta:{title:"根路径"}},{path:"/:pathMatch(.*)*",name:"error",redirect:"/statistics",meta:{title:"路径错误，重定向到数据统计"}}],Se=t({history:s("jcfw"),routes:Ve});Se.beforeResolve((async(e,a,t)=>{ce().setLoadingOver(!0),t()})),Se.beforeEach((async(e,a,t)=>{const s=ce(),n=s.getToken();if(["/login"].includes(e.path))t();else if(n)try{if(s.userInfo)return void t();if(await s.getUserInfo())return void t();s.clearToken(),t("/login")}catch(o){s.clearToken(),t("/login")}else t("/login")}));const ze=P({__name:"App",setup(e){const a=ce(),{loadingOver:t}=Z(a);return(e,a)=>{const s=Q("router-view");return N(t)?(O(),S(s,{key:0})):(O(),S(Oe,{key:1,haveLogo:!0}))}}});se((()=>import("./index-B2nChMGW.js")),__vite__mapDeps([27,28,29]));const De=ee();X(ze).use(Se).use(De).mount("#app");export{we as _,re as a,ue as l,ce as u};
