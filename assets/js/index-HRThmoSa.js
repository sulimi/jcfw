import{b as e,f as a,p as l,F as t,G as s,u as o,H as r,q as u,r as n,z as d,A as i,C as p,D as m,K as c,y as g}from"./element-plus-DzEfNFEh.js";import{U as f,r as h,d as b,i as _,c as C,a as y,L as V,J as v,u as k,R as j,I as z,m as x,o as U,a2 as w,O as S}from"./@vue-DMj6kJP1.js";import{a as q}from"./index-DQPoPE4b.js";import"./lodash-es-Dfcc72EO.js";import"./@vueuse-D6tFO15K.js";import"./@element-plus-UY_HfQnI.js";import"./async-validator-BTKOuuO-.js";import"./@ctrl-D2oWfImC.js";import"./@popperjs-CpAfbxx4.js";import"./normalize-wheel-es-Vn5vHDCm.js";import"./vue-router-BQuPhA_r.js";import"./pinia-DgxDnLzq.js";import"./axios-DMXdiZgf.js";const P=f({username:"",phone:"",status:""}),I=h(!1),R=h([]),T=h([]),A=f({currentPage:1,pageSize:10,total:0}),D=h(!1),F=h("add"),G=f({id:"",username:"",phone:"",email:"",status:"1"}),H={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},J=async()=>{I.value=!0;try{R.value=[{id:"1",username:"测试用户1",phone:"13800138000",email:"test1@example.com",status:"1",createTime:"2024-01-10 12:00:00"}],A.total=100}catch(a){e.error("获取用户列表失败")}finally{I.value=!1}},K=()=>{A.currentPage=1,J()},L=()=>{K()},O=e=>{T.value=e},$=()=>{F.value="add",D.value=!0,G.id=""},B=e=>{F.value="edit",D.value=!0},E=async()=>{},M=async e=>{},N=e=>{},Q=()=>{},W=e=>{},X=e=>{},Y={class:"user-list-container"},Z={class:"search-card"},ee={class:"operation-container"},ae={class:"pagination-container"},le={class:"dialog-footer"},te=q(b({__name:"index",setup:e=>(_((()=>{J()})),(e,f)=>{const h=u,b=n,_=d,q=i,J=a,te=l,se=p,oe=m,re=t,ue=s,ne=c,de=g,ie=o,pe=r;return U(),C("div",Y,[y("div",Z,[V(te,{inline:!0,model:k(P),class:"search-form"},{default:v((()=>[V(b,{label:"用户名"},{default:v((()=>[V(h,{modelValue:k(P).username,"onUpdate:modelValue":f[0]||(f[0]=e=>k(P).username=e),placeholder:"请输入用户名",clearable:""},null,8,["modelValue"])])),_:1}),V(b,{label:"手机号"},{default:v((()=>[V(h,{modelValue:k(P).phone,"onUpdate:modelValue":f[1]||(f[1]=e=>k(P).phone=e),placeholder:"请输入手机号",clearable:""},null,8,["modelValue"])])),_:1}),V(b,{label:"状态"},{default:v((()=>[V(q,{class:"search-select",modelValue:k(P).status,"onUpdate:modelValue":f[2]||(f[2]=e=>k(P).status=e),placeholder:"请选择状态",clearable:""},{default:v((()=>[V(_,{label:"启用",value:"1"}),V(_,{label:"禁用",value:"0"})])),_:1},8,["modelValue"])])),_:1}),V(b,null,{default:v((()=>[V(J,{type:"primary",onClick:k(K)},{default:v((()=>f[11]||(f[11]=[w("搜索")]))),_:1},8,["onClick"]),V(J,{onClick:k(L)},{default:v((()=>f[12]||(f[12]=[w("重置")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),y("div",ee,[V(J,{type:"primary",onClick:k($)},{default:v((()=>f[13]||(f[13]=[w("新增用户")]))),_:1},8,["onClick"]),V(J,{type:"danger",onClick:k(Q),disabled:!k(T).length},{default:v((()=>f[14]||(f[14]=[w(" 批量删除 ")]))),_:1},8,["onClick","disabled"])])]),j((U(),z(re,{data:k(R),onSelectionChange:k(O),border:""},{default:v((()=>[V(se,{type:"selection",width:"55"}),V(se,{type:"index",label:"序号",width:"80"}),V(se,{prop:"username",label:"用户名"}),V(se,{prop:"phone",label:"手机号"}),V(se,{prop:"email",label:"邮箱"}),V(se,{prop:"status",label:"状态"},{default:v((({row:e})=>[V(oe,{type:"1"===e.status?"success":"danger"},{default:v((()=>[w(S("1"===e.status?"启用":"禁用"),1)])),_:2},1032,["type"])])),_:1}),V(se,{prop:"createTime",label:"创建时间"}),V(se,{label:"操作",width:"250",fixed:"right"},{default:v((({row:e})=>[V(J,{type:"primary",link:"",onClick:a=>k(B)(e)},{default:v((()=>f[15]||(f[15]=[w("编辑")]))),_:2},1032,["onClick"]),V(J,{type:"success",link:"",onClick:a=>k(M)(e)},{default:v((()=>[w(S("1"===e.status?"禁用":"启用"),1)])),_:2},1032,["onClick"]),V(J,{type:"danger",link:"",onClick:a=>k(N)(e)},{default:v((()=>f[16]||(f[16]=[w("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"])),[[pe,k(I)]]),y("div",ae,[V(ue,{"current-page":k(A).currentPage,"onUpdate:currentPage":f[3]||(f[3]=e=>k(A).currentPage=e),"page-size":k(A).pageSize,"onUpdate:pageSize":f[4]||(f[4]=e=>k(A).pageSize=e),"page-sizes":[10,20,50,100],total:k(A).total,layout:"total, sizes, prev, pager, next",size:"small",onSizeChange:k(W),onCurrentChange:k(X),class:"pagination-container"},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])]),V(ie,{title:"add"===k(F)?"新增用户":"编辑用户",modelValue:k(D),"onUpdate:modelValue":f[10]||(f[10]=e=>x(D)?D.value=e:null),width:"500px"},{footer:v((()=>[y("span",le,[V(J,{onClick:f[9]||(f[9]=e=>D.value=!1)},{default:v((()=>f[19]||(f[19]=[w("取消")]))),_:1}),V(J,{type:"primary",onClick:k(E)},{default:v((()=>f[20]||(f[20]=[w("确定")]))),_:1},8,["onClick"])])])),default:v((()=>[V(te,{ref:"formRef",model:k(G),rules:k(H),"label-width":"80px"},{default:v((()=>[V(b,{label:"用户名",prop:"username"},{default:v((()=>[V(h,{modelValue:k(G).username,"onUpdate:modelValue":f[5]||(f[5]=e=>k(G).username=e),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),V(b,{label:"手机号",prop:"phone"},{default:v((()=>[V(h,{modelValue:k(G).phone,"onUpdate:modelValue":f[6]||(f[6]=e=>k(G).phone=e),placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1}),V(b,{label:"邮箱",prop:"email"},{default:v((()=>[V(h,{modelValue:k(G).email,"onUpdate:modelValue":f[7]||(f[7]=e=>k(G).email=e),placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),V(b,{label:"状态",prop:"status"},{default:v((()=>[V(de,{modelValue:k(G).status,"onUpdate:modelValue":f[8]||(f[8]=e=>k(G).status=e)},{default:v((()=>[V(ne,{label:"1"},{default:v((()=>f[17]||(f[17]=[w("启用")]))),_:1}),V(ne,{label:"0"},{default:v((()=>f[18]||(f[18]=[w("禁用")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["title","modelValue"])])})}),[["__scopeId","data-v-592e3c1f"]]);export{te as default};
